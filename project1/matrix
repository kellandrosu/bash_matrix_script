#!/bin/bash -e


PrintDimensions(){	
	rows=0
	
	while read myLine
	do
		rows=$(expr $rows + 1)
		cols=0

		for i in $myLine
		do
			cols=$(expr $cols + 1)
		done

	done < $1

	echo "$rows $cols"
}



#PARSE ARGUMENTS
if test $1 = "dims"
then
	if test $# = 1
	then
		echo "matrix dimensions requires one file" 1>&2 
		exit 1
	elif test  $# -gt 2 
	then
		echo "too many arguments" 1>&2 
		exit 2
	elif [ ! -f $2 ]
	then
		echo "file $2 does not exist"
		exit 3
	else
		PrintDimensions $2
	fi



elif test $1 = "transpose"
then
	echo "print transpose the matrix"

elif test $1 = "mean"
then
	echo "print row vector mean to stdout"

elif test $1 = "add"
then
	echo "add two matrices"

elif test $1 = "multiply"
then
	echo "multiply two matries"
else
	echo "argument needed"
fi

